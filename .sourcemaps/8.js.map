{"version":3,"sources":["../../src/pages/interests/interests.module.ts","../../src/pages/interests/interests.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { InterestsPage } from './interests';\n\n@NgModule({\n  declarations: [\n    InterestsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(InterestsPage),\n  ],\n})\nexport class InterestsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/interests/interests.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\n\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { InterestsProvider } from '../../providers/interests/interests';\n\n@IonicPage({\n  name: 'interests'\n})\n@Component({\n  selector: 'page-interests',\n  templateUrl: 'interests.html',\n})\nexport class InterestsPage {\n  interests: any;\n  showLevel1 = null;\n  showLevel2 = null;\n  interestsMap = [];\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              public viewCtrl: ViewController,\n              public authProvider: AuthProvider,\n              public interestsProvider: InterestsProvider) {\n    this.interestsProvider.getFields()\n    .subscribe(response => {\n      console.log(response);\n      this.interests = response;\n    });\n    this.interestsProvider.getInterests()\n    .subscribe(response => {\n      console.log(response);\n      for (var i = 0; i < response.length; i++) {\n        let interest = response[i];\n        this.findTopLevel(interest);\n      }\n    });\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n\n  findTopLevel(interest) {\n    for (var i = 0; i < this.interests.length; i++) {\n      const node = this.interests[i];\n      var path: String;\n      if (interest.path) {\n        // Remove off commas at string endpoints\n        path = interest.path.slice(1, -1);\n      }\n      // Add path strings\n      var pathArr: any;\n      if (path && path.split(',').length == 1) {\n        pathArr = [path];\n      } else if (path) {\n        pathArr = path.split(',');\n      }\n      if (interest.name == node.name) {\n        node.checked = true;\n        break;\n      } else if (pathArr && node.name == pathArr[0]) {\n        this.findSecondLevel(interest, node, pathArr);\n        break;\n      }\n    }\n  }\n\n  findSecondLevel(interest, node, pathArr) {\n    for (var i = 0; i < node.subs.length; i++) {\n      const subNode = node.subs[i];\n      if (interest.name == subNode.name) {\n        subNode.checked = true;\n        break;\n      } else if (subNode.name == pathArr[1]) {\n        this.findThirdLevel(interest, subNode, pathArr);\n        break;\n      }\n    }\n  }\n\n  findThirdLevel(interest, node, pathArr) {\n    for (var i = 0; i < node.subs.length; i++) {\n      const subNode = node.subs[i];\n      if (interest.name == subNode.name) {\n        subNode.checked = true;\n        break;\n      }\n    }\n  }\n\n  toggleLevel1(idx) {\n    if (this.isLevel1Shown(idx)) {\n      this.showLevel1 = null;\n    } else {\n      this.showLevel1 = idx;\n    }\n  }\n\n  toggleLevel2(idx) {\n    if (this.isLevel2Shown(idx)) {\n      this.showLevel2 = null;\n    } else {\n      this.showLevel2 = idx;\n    }\n  }\n\n  isLevel1Shown(idx) {\n    return this.showLevel1 === idx;\n  }\n  \n  isLevel2Shown(idx) {\n    return this.showLevel2 === idx;\n  }\n\n  checkedNode(i) {\n    const node = this.interests[i];\n    node.checked = !node.checked;\n    let interest = {\n      name: node.name,\n      path: null,\n      user_id: this.authProvider.currentUser._id\n    }\n    if (node.checked) {\n      this.interestsProvider.createInterest(interest);\n    } else {\n      this.interestsProvider.deleteInterest(interest.name);\n    }\n  }\n\n  checkedSubNode(i, i2) {\n    var node = this.interests[i].subs[i2];\n    node.checked = !node.checked;\n    let interest = {\n      name: node.name,\n      path: ',' + this.interests[i].name + ',',\n      user_id: this.authProvider.currentUser._id\n    }\n    if (node.checked) {\n      this.interestsProvider.createInterest(interest);\n    } else {\n      this.interestsProvider.deleteInterest(interest.name);\n    }\n  }\n\n  checkedSubSubNode(i, i2, i3) {\n    const node = this.interests[i].subs[i2].subs[i3];\n    node.checked = !node.checked;\n    let interest = {\n      name: node.name,\n      path: ',' + this.interests[i].name + ',' + this.interests[i].subs[i2].name + ',',\n      user_id: this.authProvider.currentUser._id\n    }\n    if (node.checked) {\n      this.interestsProvider.createInterest(interest);\n    } else {\n      this.interestsProvider.deleteInterest(interest.name);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/interests/interests.ts"],"sourceRoot":""}