{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n  exports: [\n    LoginPage\n  ]\n})\nexport class LoginModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events, LoadingController, AlertController } from 'ionic-angular';\n\nimport { AuthProvider } from '../../providers/auth/auth';\n\n@IonicPage({\n  name: 'login'\n})\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n\n  email: string;\n  password: string;\n  username: string;\n  firstName: string;\n  lastName: string;\n  loading: any;\n  authMode = 'login';\n  shouldShowSplitPane = false;\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              public loadingCtrl: LoadingController,\n              public alertCtrl: AlertController,\n              public events: Events,\n              public authProvider: AuthProvider) {\n  }\n\n  ionViewDidLoad() {\n    // this.showLoader();\n    // Check if already authenticated\n    // this.authProvider.checkAuthentication()\n    // .then(res => {\n    //   console.log(\"Already authorized - login\");\n    //   this.loading.dismiss();\n    //   this.events.publish('user:login');\n    // }, (err) => {\n    //   console.log(\"Not already authorized - login\");\n    //   this.loading.dismiss();\n    // });\n  }\n\n  auth() {\n    if (this.authMode == 'login') {\n      this.login();\n    } else {\n      this.register();\n    }\n  }\n \n  login() {\n    this.showLoader();\n    let credentials = {\n      email: this.email,\n      password: this.password\n    };\n    this.authProvider.login(credentials)\n    .then(result => {\n      this.loading.dismiss();\n      console.log(result);\n    }, (err) => {\n      this.loading.dismiss();\n      console.log(err);\n      if (err.status == 401) {\n        let alert = this.alertCtrl.create({\n          title: 'Login Failed',\n          message: 'Your login credentials are invalid',\n          buttons: ['Dismiss']\n        });\n        alert.present();\n      }\n    });\n  }\n\n  register() {\n    this.showLoader();\n    let details = {\n      email: this.email,\n      password: this.password,\n      username: this.username,\n      firstName: this.firstName,\n      lastName: this.lastName\n    };\n    this.authProvider.createAccount(details)\n    .then(result => {\n      this.loading.dismiss();\n      console.log(result);\n    }, (err) => {\n      this.loading.dismiss();\n    });\n  }\n  \n  showLoader() {\n    this.loading = this.loadingCtrl.create({\n        content: 'Authenticating...'\n    });\n    this.loading.present();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}